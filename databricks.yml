bundle:
  name: streaming_platform

# Bundle resources (jobs/pipelines)
include:
  - "bundles/streaming_platform/jobs/*.yml"

# Files uploaded to workspace
sync:
  include:
    - "bundles/streaming_platform/src/**"
    - "configs/**"
    - "projects/**"
  exclude:
    - "**/.git/**"
    - "**/.github/**"
    - "**/__pycache__/**"
    - "**/*.pyc"
    - "**/*.pkl"
    - "**/*.env"
    - "**/secrets/**"

variables:
  tenant_id:
    description: "Tenant (client) identifier"
    default: "tenant_demo"

  config_file:
    description: "Path to tenant config file within the repo"
    default: "configs/tenants/tenant_demo/dev.yml"

targets:
  dev:
    default: true
    mode: development
    workspace:
      host: "https://adb-3060566723072813.13.azuredatabricks.net"
    variables:
      tenant_id: "tenant_demo"
      config_file: "configs/tenants/tenant_demo/dev.yml"

  stage:
    mode: development
    workspace:
      host: "https://adb-3060566723072813.13.azuredatabricks.net"
    variables:
      tenant_id: "tenant_demo"
      config_file: "configs/tenants/tenant_demo/stage.yml"

  prod:
    mode: production
    workspace:
      host: "https://adb-3060566723072813.13.azuredatabricks.net"
    variables:
      tenant_id: "tenant_demo"
      config_file: "configs/tenants/tenant_demo/prod.yml"